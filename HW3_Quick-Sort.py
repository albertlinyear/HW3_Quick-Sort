# -*- coding: utf-8 -*-
"""ä½œæ¥­3 - å¿«é€Ÿæ’åºæ¼”ç®—æ³•å¯¦ä½œ.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1-3N9GD78kFH3RhnMcqc8OpP9zuyH3Wn0
"""

def quick_sort(arr, start, end):
    if start >= end:
        return

    pivot_idx = start
    pivot = arr[pivot_idx]
    left = start + 1
    right = end

    print(f"\nğŸ“ QuickSort({start}, {end}) é–‹å§‹ï¼Œpivot={pivot} @ index {pivot_idx}")
    print("é™£åˆ—:", arr)

    while left <= right:
        while left <= right and arr[left] <= pivot:
            left += 1
        while left <= right and arr[right] >= pivot:
            right -= 1

        if left < right:
            print(f"  ğŸ”„ äº¤æ› arr[{left}]={arr[left]} å’Œ arr[{right}]={arr[right]}")
            arr[left], arr[right] = arr[right], arr[left]
            print("  â¡ï¸  äº¤æ›å¾Œé™£åˆ—:", arr)

    print(f"  ğŸ”ƒ å°‡ pivot arr[{pivot_idx}]={arr[pivot_idx]} å’Œ arr[{right}]={arr[right]} äº¤æ›")
    arr[pivot_idx], arr[right] = arr[right], arr[pivot_idx]
    print("  âœ… Pivot äº¤æ›å¾Œ:", arr)

    # éè¿´å‘¼å«å·¦å³å­é™£åˆ—
    quick_sort(arr, start, right - 1)
    quick_sort(arr, right + 1, end)


# æ¸¬è©¦è³‡æ–™
demo = [33, 67, 8, 13, 54, 119, 3, 84, 25, 41]
print("ğŸ§ª åŸå§‹è³‡æ–™:", demo)
quick_sort(demo, 0, len(demo) - 1)
print("\nâœ… æ’åºå®Œæˆ:", demo)